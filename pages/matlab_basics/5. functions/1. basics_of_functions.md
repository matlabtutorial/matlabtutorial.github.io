---
title: 함수 기초
sidebar: matlab_basics_sidebar
permalink: 1. basics_of_functions.html
folder: matlab_basics
identifier: 1. basics_of_functions
---
<!---
다루어야 할 내용
- 함수 기초
    - 함수를 왜 사용해야 하는가?
        - 사무실을 하나 따로 떼주는 것과 같다. 이 사무실에서는 이 일만 처리하는 식으로 업무 분담.
    - 함수를 만들고 저장하는 법
        - m 파일로 저장하는 법
        - 스크립트 내의 함수 사용(R2016b 이상)
    - MATLAB 함수의 구조
        - function syntax 소개
        - 인수 정의
        - 가변 길이 입력/출력 인수 (varargin, varargout)
        - 출력값을 무시하는 법
- 변수 범위
    - base workspace, function workspace
    - 전역 변수, 지역 변수, persist
    - local function, nested function
- 인수 유효성 검사
- 함수 핸들
- 익명 함수
- -->

※ 본 포스팅은 MATLAB R2023b 버전을 기준으로 작성되었습니다.

# 함수를 왜 사용해야 하는가?

벽돌로 집을 짓는 상상을 해보자. 이 때, 벽돌을 하나 하나 쌓을 수도 있을 것이다.

<p align = "center">
    <img src = "https://raw.githubusercontent.com/matlabtutorial/matlabtutorial.github.io/main/images/matlab_basics/5.%20functions/1.%20basics_of_functions/pic1.jpg">
    <br>
    그림 1. 벽돌을 쌓아 집을 짓는 모습을 상상해보자 (Bing Image Creator로 제작)
</p>

그런데, 정해진 모양대로만 벽돌을 쌓아다 가져다 주는 일을 하는 사람이 정해져 있다면 업무가 효율적일 수 있다. 이 사람에게는 벽돌 100개를 주면 정확히 네모진 모양으로 쌓아다 가져다주는 일을 한다고 가정해볼 수도 있다.

<p align = "center">
    <img src = "https://raw.githubusercontent.com/matlabtutorial/matlabtutorial.github.io/main/images/matlab_basics/5.%20functions/1.%20basics_of_functions/pic2.jpg">
    <br>
    그림 2. 정해진 모양으로 벽돌을 쌓아다주는 사람: 함수(Bing Image Creator로 제작)
</p>

그림 2에서 말하는 것이 바로 함수가 하는 일이다. 다시 말하면 함수는 입력(벽돌 1000개)을 주면 출력(쌓아둔 벽돌)을 내놓는다. 또, 함수는 전체 과정(집 짓기)의 일부(벽돌 쌓기)만 담당하여 반복 수행한다. `프로그래밍의 목적은 특정 업무를 수행하는 것`이라는 것을 잊지 말아야 한다. 그런데 수행하고자 하는 업무가 꽤 커지기 시작하면 업무를 분담하여 작업하는 것이 효율적일 뿐 더러 실수를 줄일 수 있다.

# 함수를 만들고 저장하는 법

간단한 예시를 통해 MATLAB에서 함수를 만드는 방법을 알아보자. MATLAB에서 함수를 만드는 가장 기본적인 방법은 별도의 m 파일로 함수를 구현하여 저장하는 것이다. 아래 그림과 같이 HOME > New > Function 버튼을 클릭해보자.

<p align = "center">
    <img src = "https://raw.githubusercontent.com/matlabtutorial/matlabtutorial.github.io/main/images/matlab_basics/5.%20functions/1.%20basics_of_functions/pic3.png">
    <br>
    그림 3. 함수의 기본 틀을 가지고 있는 m 파일을 쉽게 만들 수 있도록 도와주는 버튼
</p>

그림 3에서 설명하는 버튼을 누르면 아래 그림 4와 같이 함수의 기본 템플릿을 가지고 있는 m 파일이 자동 생성되게 된다. 그림 4를 기준으로 함수의 이름은 `untitled5`로 지정되어 있다. 또, 템플릿에는 입력 인자(input arguments)가 2개, 출력 인자(output arguments)가 2개로 기본 설정되어 있다.

<p align = "center">
    <img src = "https://raw.githubusercontent.com/matlabtutorial/matlabtutorial.github.io/main/images/matlab_basics/5.%20functions/1.%20basics_of_functions/pic4.png">
    <br>
    그림 4. 함수 생성 버튼을 눌렀을 때 나오는 가장 기본 템플릿
</p>

우리는 그림 4에서와 같이 얻은 기본 템플릿을 수정하여 `timestwo`라는 함수를 정의해보자. `timestwo`은 입력 1개와 출력 1개를 가질 것이며, 입력에 2를 곱해서 출력해주는 작동을 한다고 해보자. 이를 구현하기 위해 아래의 그림 5와 같이 템플릿을 수정해보자. 그리고 `timestwo.m`이라는 이름으로 파일을 저장하자.

<p align = "center">
    <img src = "https://raw.githubusercontent.com/matlabtutorial/matlabtutorial.github.io/main/images/matlab_basics/5.%20functions/1.%20basics_of_functions/pic5.png">
    <br>
    그림 5. 입출력을 각각 1개씩 가지며 입력에 2를 곱해 출력해주는 함수 timestwo.
</p>

<p align = "center">
    <img src = "https://raw.githubusercontent.com/matlabtutorial/matlabtutorial.github.io/main/images/matlab_basics/5.%20functions/1.%20basics_of_functions/pic6.png">
    <br>
    그림 6. 함수용 m 파일과 스크립트용 m 파일은 서로 다른 아이콘을 사용한다.
</p>



```matlab
y = 2 * x;
```

# MATLAB 함수의 구조